<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site.title }}</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/2.3.0/alpine.js"></script>
</head>
<body class="bg-gray-50">
    <div x-data="{ 
        isNavOpen: true,
        isSidebarOpen: true,
        categories: [
            { name: '技术博客', items: ['Web开发', '人工智能', '后端架构'] },
            { name: '生活随笔', items: ['旅行日记', '读书笔记', '生活感悟'] }
        ]
    }">
        <!-- 导航栏 -->
        <nav class="fixed w-full bg-white shadow-md transition-all duration-300 z-50"
             :class="{ 'h-16': isNavOpen, 'h-12': !isNavOpen }">
            <div class="container mx-auto px-4 h-full">
                <div class="flex items-center justify-between h-full">
                    <div class="flex items-center">
                        <button @click="isNavOpen = !isNavOpen" 
                                class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M4 6h16M4 12h16m-7 6h7"/>
                            </svg>
                        </button>
                        <span class="ml-4 text-xl font-bold text-gray-800">{{ site.title }}</span>
                    </div>
                    <div class="hidden md:flex space-x-8">
                        {% for item in site.navigation %}
                        <a href="{{ item.url }}" 
                           class="text-gray-600 hover:text-gray-900">{{ item.title }}</a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </nav>

        <!-- 侧边栏 -->
        <div class="fixed left-0 top-16 h-full bg-white shadow-lg transition-all duration-300 z-40"
             :class="{ 'w-64': isSidebarOpen, 'w-0': !isSidebarOpen }">
            <div class="p-4 overflow-y-auto h-full">
                <template x-for="category in categories" :key="category.name">
                    <div class="mb-4">
                        <div class="flex items-center justify-between cursor-pointer"
                             @click="category.isOpen = !category.isOpen">
                            <span class="font-medium text-gray-700" x-text="category.name"></span>
                            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                        <div class="mt-2 ml-4">
                            <template x-for="item in category.items" :key="item">
                                <a href="#" class="block py-1 text-gray-600 hover:text-gray-900" 
                                   x-text="item"></a>
                            </template>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <!-- 主要内容 -->
        <main class="transition-all duration-300"
              :class="{ 'ml-64': isSidebarOpen, 'ml-0': !isSidebarOpen }">
            <div class="pt-16">
                <!-- 轮播图 -->
                <div x-data="{ activeSlide: 0 }" class="relative h-96 overflow-hidden">
                    <template x-for="(slide, index) in [1,2,3]" :key="index">
                        <div class="absolute w-full h-full transition-all duration-500"
                             :class="{ 'opacity-100': activeSlide === index, 'opacity-0': activeSlide !== index }">
                            <img src="/api/placeholder/1200/400" alt="Slide" 
                                 class="w-full h-full object-cover"/>
                        </div>
                    </template>
                    <!-- 轮播控制按钮 -->
                    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                        <template x-for="(dot, index) in [0,1,2]" :key="index">
                            <button @click="activeSlide = index"
                                    class="w-3 h-3 rounded-full transition-all duration-300"
                                    :class="{ 'bg-white': activeSlide === index, 'bg-gray-400': activeSlide !== index }">
                            </button>
                        </template>
                    </div>
                </div>

                <!-- 最新文章 -->
                <div class="container mx-auto px-4 py-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">最新文章</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {% for post in site.posts limit:6 %}
                        <article class="bg-white rounded-lg shadow-md overflow-hidden">
                            <img src="/api/placeholder/400/200" alt="Article thumbnail" 
                                 class="w-full h-48 object-cover"/>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-800 mb-2">
                                    {{ post.title }}
                                </h3>
                                <p class="text-gray-600 mb-4">{{ post.excerpt }}</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-500">{{ post.date | date: "%Y-%m-%d" }}</span>
                                    <a href="{{ post.url }}" 
                                       class="text-blue-600 hover:text-blue-800">阅读更多</a>
                                </div>
                            </div>
                        </article>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
